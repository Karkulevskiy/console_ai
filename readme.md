# go_ai

## Описание

Проект `go_ai` — это сервер и консольный клиент на Go для работы с различными AI-моделями (Google Gemini, OpenAI GPT, Anthropic Claude, Mistral, Llama, Cohere и др).  
Сервер предоставляет API для взаимодействия с моделями, а клиент — удобный CLI/консольный интерфейс с возможностью переключения между окнами.

## Структура проекта

- `main.go` — точка входа сервера.
- `server.go` — запуск и graceful shutdown сервера.
- `handlers.go` — HTTP-хендлеры для работы с AI и моделями.
- `db/` — логика работы с SQLite-базой моделей.
- `client/` — консольный клиент (CLI), поддерживающий переключение окон.
- `ai/` — логика взаимодействия с AI.
- `domain/` — структуры запросов/ответов.
- `logging/` — логирование.

## Запуск

### Сервер и клиент

Для запуска сервера и клиента используйте Makefile:

```sh
make run
```

- Сервер стартует на порту `8080`.
- Клиент запускается после сервера.

### Ручной запуск

Сервер:
```sh
go run ./
```

Клиент:
```sh
go run ./client/
```

## API

- `POST /` — запрос к AI.
- `POST /tries` — запрос к AI с несколькими попытками.
- `GET /models` — получить список доступных моделей.
- `POST /models` — добавить модель.
- `DELETE /models` — удалить модель.
- `PUT /models` — обновить название модели.

## Работа с моделями

При первом запуске БД автоматически заполняется списком популярных моделей (Google, OpenAI, Anthropic, Mistral, Meta, Cohere).

## Клиент

- Консольный интерфейс.
- Переключение между окнами (Tab/Shift+Tab).
- Мышь отключена для выделения текста.

## Зависимости

- Go 1.21+
- [Echo](https://github.com/labstack/echo) — HTTP сервер.
- [tcell](https://github.com/gdamore/tcell) — для консольного UI (если используется).
- [SQLite](https://github.com/mattn/go-sqlite3) — для хранения моделей.

## Лицензия

MIT